<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<meta name="author" content="Bart Debunne">
<title>IIIF : Deliverable 4: IIIF image endpoint bij meemoo</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;-webkit-tap-highlight-color:transparent}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge .cm {
  color: #999988;
  font-style: italic;
}
pre.rouge .cp {
  color: #999999;
  font-weight: bold;
}
pre.rouge .c1 {
  color: #999988;
  font-style: italic;
}
pre.rouge .cs {
  color: #999999;
  font-weight: bold;
  font-style: italic;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cpf {
  color: #999988;
  font-style: italic;
}
pre.rouge .err {
  color: #a61717;
  background-color: #e3d2d2;
}
pre.rouge .gd {
  color: #000000;
  background-color: #ffdddd;
}
pre.rouge .ge {
  color: #000000;
  font-style: italic;
}
pre.rouge .gr {
  color: #aa0000;
}
pre.rouge .gh {
  color: #999999;
}
pre.rouge .gi {
  color: #000000;
  background-color: #ddffdd;
}
pre.rouge .go {
  color: #888888;
}
pre.rouge .gp {
  color: #555555;
}
pre.rouge .gs {
  font-weight: bold;
}
pre.rouge .gu {
  color: #aaaaaa;
}
pre.rouge .gt {
  color: #aa0000;
}
pre.rouge .kc {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kd {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kn {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kp {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kr {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kt {
  color: #445588;
  font-weight: bold;
}
pre.rouge .k, pre.rouge .kv {
  color: #000000;
  font-weight: bold;
}
pre.rouge .mf {
  color: #009999;
}
pre.rouge .mh {
  color: #009999;
}
pre.rouge .il {
  color: #009999;
}
pre.rouge .mi {
  color: #009999;
}
pre.rouge .mo {
  color: #009999;
}
pre.rouge .m, pre.rouge .mb, pre.rouge .mx {
  color: #009999;
}
pre.rouge .sa {
  color: #000000;
  font-weight: bold;
}
pre.rouge .sb {
  color: #d14;
}
pre.rouge .sc {
  color: #d14;
}
pre.rouge .sd {
  color: #d14;
}
pre.rouge .s2 {
  color: #d14;
}
pre.rouge .se {
  color: #d14;
}
pre.rouge .sh {
  color: #d14;
}
pre.rouge .si {
  color: #d14;
}
pre.rouge .sx {
  color: #d14;
}
pre.rouge .sr {
  color: #009926;
}
pre.rouge .s1 {
  color: #d14;
}
pre.rouge .ss {
  color: #990073;
}
pre.rouge .s, pre.rouge .dl {
  color: #d14;
}
pre.rouge .na {
  color: #008080;
}
pre.rouge .bp {
  color: #999999;
}
pre.rouge .nb {
  color: #0086B3;
}
pre.rouge .nc {
  color: #445588;
  font-weight: bold;
}
pre.rouge .no {
  color: #008080;
}
pre.rouge .nd {
  color: #3c5d5d;
  font-weight: bold;
}
pre.rouge .ni {
  color: #800080;
}
pre.rouge .ne {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nf, pre.rouge .fm {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nl {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nn {
  color: #555555;
}
pre.rouge .nt {
  color: #000080;
}
pre.rouge .vc {
  color: #008080;
}
pre.rouge .vg {
  color: #008080;
}
pre.rouge .vi {
  color: #008080;
}
pre.rouge .nv, pre.rouge .vm {
  color: #008080;
}
pre.rouge .ow {
  color: #000000;
  font-weight: bold;
}
pre.rouge .o {
  color: #000000;
  font-weight: bold;
}
pre.rouge .w {
  color: #bbbbbb;
}
pre.rouge {
  background-color: #f8f8f8;
}
</style>
</head>
<body class="article">
<div id="header">
<h1>IIIF : Deliverable 4: IIIF image endpoint bij meemoo</h1>
<div class="details">
<span id="author" class="author">Bart Debunne</span><br>
<span id="email" class="email"><a href="mailto:bart.debunne@meemoo.be">bart.debunne@meemoo.be</a></span><br>
<span id="revnumber">version 4,</span>
<span id="revdate">23-09-2021</span>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Inhoudsopgave</div>
<ul class="sectlevel2">
<li><a href="#_inleiding">Inleiding</a>
<ul class="sectlevel3">
<li><a href="#_doelstelling">Doelstelling</a></li>
<li><a href="#_over_het_vkc_2_project">Over het VKC-2 project</a></li>
<li><a href="#_over_iiif">Over IIIF</a></li>
</ul>
</li>
<li><a href="#_scope">Scope</a>
<ul class="sectlevel3">
<li><a href="#_technische_oplossing">Technische oplossing</a></li>
<li><a href="#_inhoudelijk_aanbod">Inhoudelijk aanbod</a></li>
<li><a href="#_bestaande_implementaties">Bestaande implementaties</a></li>
</ul>
</li>
<li><a href="#_specificaties">Specificaties</a>
<ul class="sectlevel3">
<li><a href="#_functioneel">Functioneel</a></li>
<li><a href="#_technisch">Technisch</a></li>
<li><a href="#_meemoo_infrastructuur">meemoo-infrastructuur</a></li>
<li><a href="#_performantie">Performantie</a></li>
<li><a href="#_documentatie">Documentatie</a></li>
</ul>
</li>
<li><a href="#_architectuur">Architectuur</a>
<ul class="sectlevel3">
<li><a href="#_diagram_eenvoudig">Diagram (eenvoudig)</a></li>
<li><a href="#_componenten">Componenten</a></li>
</ul>
</li>
<li><a href="#_impact">Impact</a></li>
<li><a href="#_conclusie">Conclusie</a></li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="_inleiding">Inleiding</h3>
<div class="paragraph">
<p>Dit document geldt als deliverable 4 in het IIIF-project fase 2 (IIIF-2) van VKC in samenwerking met meemoo. De deliverable is het geschreven resultaat van Taak 2 in Werkpakket 2, de omschrijving van een te realiseren IIIF-compliant image endpoint voor het ontsluiten door VKC van archiefbeelden bij meemoo.</p>
</div>
<div class="sect3">
<h4 id="_doelstelling">Doelstelling</h4>
<div class="paragraph">
<p>Doel van Taak 2 is het ontwikkelen door meemoo van een IIIF Image API endpoint op materiaal uit het MAM-systeem. De endpoint zal worden gebruikt door VKC voor de ontsluiting van de collectie in via de VKC IIIF manifests en viewer. Op termijn zal meemoo de endpoint breder inzetten, zowel voor derden als voor eigen gebruik. Bij het bepalen van de specificaties, minimale vereisten en architectuur is hier rekening mee gehouden.</p>
</div>
</div>
<div class="sect3">
<h4 id="_over_het_vkc_2_project">Over het VKC-2 project</h4>
<div class="paragraph">
<p>De Vlaamse Kunstcollectie (VKC) werkte reeds eerder samen met meemoo aan de uitbouw van een digitaal ecosysteem. Er werd een (proef)opstelling gebouwd waarbij metadata en beelden via een zogenaamde Datahub, en IIIF-Imagehub en -Imageserver vanuit de registratiesystemen en de DAMS voor hergebruik worden beschikbaar gemaakt in de Arthub met IIIF-viewer.</p>
</div>
<div class="paragraph">
<p>Het IIIF-2 project bouwt verder op deze samenwerking door vanuit concrete use cases verbeteringen aan te brengen met het oog op twee belangrijke doelen: de maximale geautomatiseerde aggregatie van content en het maximaal geautomatiseerd ter beschikking stellen van die content voor hergebruik.</p>
</div>
<div class="paragraph">
<p>Het project voorziet in een nauwere aansluiting op de infrastructuur en het archiefsysteem van meemoo, de verkenning door VKC van IIIF-annotaties en IIIF-multi-layerviewers, en de opmaak van een metadatahandboek. Het systeem zal ook worden uitgetest op hybride collecties.</p>
</div>
</div>
<div class="sect3">
<h4 id="_over_iiif">Over IIIF</h4>
<div class="paragraph">
<p>IIIF of het International Image Interoperability Framework staat voor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>een set van open standaarden die contentbeheerders toelaat hun digitale collecties en bijhorende informatie te ontsluiten</p>
</li>
<li>
<p>een community: LAM&#8217;s, softwarebedrijven, developers en anderen die samen de IIIF standaarden omschrijven, ontwikkelen, testen en propageren</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Het volledige IIIF-raamwerk bestaat uit vier API&#8217;s (application programming interfaces), waarvan de twee belangrijkste de Image API en de Presentation API zijn. De API&#8217;s bieden een gestandardiseerde methode om bestanden te beschrijven en aan te leveren of uit te wisselen via het internet.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://iiif.io/api/image/">Image API</a> voor het aanbieden in al dan niet bewerkte vorm (rotatie, zoom, fragment, kleuraanpassing, formaat) van bestanden en de technische metadata (info.json)</p>
</li>
<li>
<p><a href="https://iiif.io/api/presentation/">Presentation API</a> voor de beschrijving in json-formaat (manifests) van de structuur en/of layout van een object, een collectie van objecten of gerelateerde objecten</p>
</li>
<li>
<p><a href="https://iiif.io/api/search/">Content Search API</a> voor het doorzoeken van transcripties (OCR), vertalingen, annotaties van een via IIIF aangeboden bron</p>
</li>
<li>
<p><a href="https://iiif.io/api/auth/">Authentication API</a> voor het afschermen van de bronnen voor niet geauthenticeerd gebruik (bearer token)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Er zijn nog API&#8217;s in ontwikkeling:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://iiif.io/api/discovery/0.9/">Change Discovery API</a> die het machines eenvoudiger maken om IIIF-bronnen te vinden, bv. voor de ontwikkeling van (thematische) zoekmachines en portaalapplicaties</p>
</li>
<li>
<p><a href="https://iiif.io/api/content-state/0.3/">Content State API</a> waarmee (een deel) van de inhoud van een IIIF Presentation API bron doorgegeven kan worden aan applicaties, ongeacht hun verschillende gebruikersinterfaces en mogelijkheden</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Naast louter afbeeldingen kunnen via de IIIF API dus ook weergavegebaseerde of meer bepaald structurele metadata uitgewisseld worden over gestructureerde objecten. Deze metadata kan bijvoorbeeld puur het object beschrijven of kan annotaties (open annotations) op en over het object bevatten.</p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="_scope">Scope</h3>
<div class="sect3">
<h4 id="_technische_oplossing">Technische oplossing</h4>
<div class="paragraph">
<p>De use case is het bouwen van een IIIF Image API 2.1 compliant endpoint voor de ontsluiting en download van hoog-kwalitatieve afbeeldingen, inclusief de nodige technische en administratieve (rechten) metadata, bewaard in het meemoo-archiefsysteem. De endpoint moet zonder meer kunnen ingeschakeld worden in het VKC-ecosysteem voor gebruik in de Imagehub.</p>
</div>
<div class="paragraph">
<p>De oplossing dient ook als proefopstelling voor meemoo met het oog op een bredere inzet van IIIF voor materiaal van meerdere aanbieders dat bij meemoo wordt bewaard en ontsloten mag of moet worden en dient dus voldoende schaalbaar te zijn om grotere en diverse collecties zonder grote drempels aan te kunnen.</p>
</div>
</div>
<div class="sect3">
<h4 id="_inhoudelijk_aanbod">Inhoudelijk aanbod</h4>
<div class="paragraph">
<p>In het VKC-2 project zal een afgelijnde set bestanden aangeboden worden van:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>De aangesloten musea bij VKC, i.c. de 5 Schone Kunsten musea</p>
</li>
<li>
<p>Collecties Brugse musea (in Art in Flanders is dit de algemene collectie <em>Musea Brugge</em>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Aangezien meemoo met de opstelling op termijn mogelijk meer collecties wil ontsluiten, zowel voor VKC als voor derden, is het relevant voorbij het huidige aanbod van VKC (i.c. de Image Hub) en Art in Flanders te kijken naar zowel de maximaal potentiële omvang nu als de verwachtte aanwas. Met andere woorden is schaalbaarheid een belangrijk aandachtspunt.</p>
</div>
<div class="paragraph">
<p>Aan de hand van de metadata in het meemoo-archiefsysteem voor de silo Lukas/Art in Flanders (AIF) kan een exhaustieve en maximale lijst en omvang bepaald worden van de te ontsluiten werken. Hieruit blijkt dat voor bovenstaande aanbieders momenteel 15905 werken ontsloten worden op Art in Flanders.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Totale omvang ontsloten en niet-ontsloten archiefbeelden in de Lukas/AIF tenant in het meemoo archiefsysteem, cijfers per aanbieder (februari 2021).</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Collectie</th>
<th class="tableblock halign-left valign-top">Aantal items in archief</th>
<th class="tableblock halign-left valign-top">Items online in AIF</th>
<th class="tableblock halign-left valign-top">wacht op metadata of mag niet online</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Musea Brugge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13176</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5481</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7695</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">KMSKA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7406</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7270</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">136</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MSK Gent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2065</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1502</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">563</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mu.ZEE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1111</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">866</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">245</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">M Leuven</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2177</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">786</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1391</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TOTAAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">25935</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15905</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10030</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bestandsgrootte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gemiddeld</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">van</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">200 MB per file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">oudste opnames</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">250 MB ** gemiddelde voor hele archief-tenant</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tot</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">600MB per file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nieuwste opnames</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_bestaande_implementaties">Bestaande implementaties</h4>
<div class="sect4">
<h5 id="_het_vkc_ecosysteem_fase_1">Het VKC ecosysteem (fase 1)</h5>
<div class="sect5">
<h6 id="_verkenning">Verkenning</h6>
<div class="paragraph">
<p>Samen met VKC verkende meemoo verschillende technische componenten voor de bouw van de IIIF-infrastructuur. Bij de selectie van de componenten werd ook rekening gehouden met de bestaande infrastructuur van VKC. In de eerste fase van het project, van 2018 tot 2019, werden onderstaande acties uitgevoerd:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>De verkenning van verschillende IIIF-beeldservercomponenten in de internationale academische en erfgoedwereld en de selectie van de meest bruikbare component in functie van de hierna genoemde compilatie;</p>
</li>
<li>
<p>De compilatie van dergelijke IIIF-componenten in een proefopstelling van een beeldinfrastructuur, complementair met de arthub;</p>
</li>
<li>
<p>De koppeling, in een proefopstelling, van dergelijke IIIF-beeldinfrastructuur aan de VKC-datahub;</p>
</li>
<li>
<p>Een beknopte analyse van de koppeling met de onderbouw;</p>
</li>
<li>
<p>De publicatie van de technische informatie van deze proefopstelling op Github en de bekendmaking ervan op relevante nationale en internationale fora;</p>
</li>
<li>
<p>Tegelijk het voorbereiden van de musea en andere beeldenleveranciers op de noodzakelijke IIIF-metadata.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_selectie_van_componenten">Selectie van componenten</h6>
<div class="paragraph">
<p>In het voorjaar van 2019 zette meemoo samen met de VKC, <a href="https://artinflanders.be">artinflanders.be</a> en andere beeldpartners de eerste stappen naar een vlotte, efficiënte en geautomatiseerde ontsluiting van beeldmateriaal in de tweede fase van dit project. Daarbij werd rekening gehouden met de (technische) aanbevelingen (de zogenaamde modelarchitectuur) uit de <a href="https://www.projectcest.be/wiki/Projecten:Blauwdruk_Gedistribueerd_Beeldbeheer">Blauwdruk gedistribueerd beeldbeheer</a> die eerder was opgesteld.</p>
</div>
<div class="paragraph">
<p>Centraal in deze fase stond de implementatie van de IIIF-specificaties in online services. Deze open specificaties laten toe om de interacties tussen eindconsument, de toepassing waarin beelden worden gevisualiseerd, en de communicatie met de onderliggende online services te standaardiseren en te automatiseren. Verschillende technische componenten werden verkend voor de bouw van de IIIF-infrastructuur. De keuze van de componenten moet het eenvoudig maken om de beeldinfrastructuur ook in de toekomst te beheren.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/VKC-IIIF-1-architectuur.png" alt="VKC ecosysteem Fase 1">
</div>
<div class="title">Figure 1. Schema van de gekozen componenten voor de IIIF-proefopstelling</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Als ingestcomponent is gekozen voor <a href="https://www.resourcespace.com/">ResourceSpace</a>, een software die al door een aantal partners van VKC gebruikt wordt voor de ontsluiting van hun beelden. ResourceSpace is een DAM-systeem (beeldbeheersysteem) waarmee de beelden opgenomen kunnen worden in de proefopstellingen en waarin vervolgens de metadata uit de Datahub gekoppeld kunnen worden aan de beelden.</p>
</li>
<li>
<p>Als IIIF-beeldenserver is gekozen voor <a href="https://cantaloupe-project.github.io/">Cantaloupe</a>, omwille van de mogelijkheid om de metadata die ingebed wordt in de beelden te behouden in de kopieën van de afgeleiden. Via Cantaloupe zijn de beelden uitwisselbaar via de IIIF Image API 2.</p>
</li>
<li>
<p>Er werd ook een <a href="http://imagehub.vlaamsekunstcollectie.be/">Imagehub</a> ontwikkeld om de beelden en hun metadata via de IIIF Presentation API te ontsluiten (via IIIF-manifests). Deze webapplicatie is gemaakt in hetzelfde framework waarmee de Datahub ontwikkeld werd (PHP/Symfony).</p>
</li>
<li>
<p>De IIIF-manifests zelf worden getoond in de <a href="https://universalviewer.io/">Universal Viewer</a>. Dit is een beeldenviewer die IIIF-manifests kan weergeven.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Samen vormen deze componenten de IIIF-proefopstelling. Testen gebeurde met tweehonderd beelden uit de collecties van de partnermusea van de VKC. De aangepaste versie van de Arthub ontsluit nu beelden via de Universal Viewer door een koppeling met de <a href="http://imagehub.vlaamsekunstcollectie.be/">Imagehub</a>.</p>
</div>
<div class="paragraph">
<p>Verdere details over de opzet en architectuur van het VKC-ecosysteem zijn te vinden in <a href="https://vlaamsekunstcollectie.files.wordpress.com/2019/10/d1_-architectuur-van-de-proefopstelling-2.pdf">Deliverable 1, Architectuur van de proefopstelling</a>, van het VKC-1 project.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_nieuws_van_de_groote_oorlog_meemoo">Nieuws van de Groote Oorlog (meemoo)</h5>
<div class="paragraph">
<p>Voor de website <a href="https://nieuwsvandegrooteoorlog.hetarchief.be/">Nieuws van de Groote Oorlog</a> (NVDGO) heeft meemoo (destijds VIAA) een IIPImage server, of iipsrv, opgezet voor de ontsluiting van multipage kranten en andere documenten via een OpenLayers3 canvas-viewer op de site. Als protocol wordt in de viewer Zoomify gebruikt, maar ook IIP en IIIF zijn ondersteund.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>Voorbeeld detailpagina NVDGO: <a href="https://nieuwsvandegrooteoorlog.hetarchief.be/nl/pid/wp9t14vr7s">L&#8217;indépendance belge | Nieuws van de Groote Oorlog (hetarchief.be)</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Voor meer informatie en documentatie over de IIIF-implementatie voor NVDGO zie:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://meemoo.atlassian.net/wiki/spaces/HAP/pages/111902756/IIPImage%2Ben%2BIIIF">IIPImage en IIIF - Het Archief (Publiek) - meemoo documentation (atlassian.net)</a></p>
</li>
<li>
<p><a href="https://meemoo.atlassian.net/wiki/spaces/TB/pages/1855684732/Handleiding%2BIIIF-beelden%2Bgebruiken">Handleiding IIIF-beelden gebruiken - Interactie - meemoo documentation (atlassian.net)</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Deze image server is oorspronkelijk opgezet als dedicated endpoint voor de NVDGO website. Om ook uitwisseling met derden mogelijk en eenvoudiger te maken is op basis van een initiële vraag van de "Boekentoren" (UGent) een aantal aanpassingen doorgevoerd:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>De URL werd herschreven zonder querystring (?IIIF=&#x2026;) naar <a href="http://iiif.viaa.be/">meemoo.be</a>)</p>
</li>
<li>
<p>De CORS-instellingen werden gewijzigd zodat cross-domain requests toegestaan zijn;</p>
</li>
<li>
<p>Het lokale media path van het document werd vertaald naar de gemeenschappelijk bekende identifier, in dit geval de external_id bij meemoo (pid).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Hiervoor werd een <a href="https://github.com/viaacode/iiif-mapping">Python script</a> geschreven dat via nginx-specifieke X-Accel-Redirect headers de request doorstuurt naar de relevante URL op <a href="http://images.hetarchief.be">http://images.hetarchief.be</a>.</p>
</div>
<div class="paragraph">
<p>Resultaat is een IIIF Image API 2.0 met level 1 compliancy voor een 300.000 documenten.</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. Image information request: NvdGO</div>
<div class="content">
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><a href="https://images.hetarchief.be/iipsrv/?IIIF%3D/media/5/S/S2aTZOTWggiebVVpZpSTJPWd/wp9t14vr7s_19140404_0001/info.json">https://images.hetarchief.be/iipsrv/?IIIF=/media/5/S/S2aTZOTWggiebVVpZpSTJPWd/wp9t14vr7s_19140404_0001/info.json</a></p>
</div>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"@context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://iiif.io/api/image/2/context.json"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://images.hetarchief.be/iipsrv/?IIIF=/media/5/S/S2aTZOTWggiebVVpZpSTJPWd/wp9t14vr7s_19140404_0001"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://iiif.io/api/image"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">4633</span><span class="p">,</span><span class="w">
  </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">5959</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sizes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">144</span><span class="p">,</span><span class="w">
    </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">186</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">289</span><span class="p">,</span><span class="w">
    </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">372</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">579</span><span class="p">,</span><span class="w">
    </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">744</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">1158</span><span class="p">,</span><span class="w">
    </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">2316</span><span class="p">,</span><span class="w">
    </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">2979</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nl">"tiles"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w">
    </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w">
    </span><span class="nl">"scaleFactors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">]</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nl">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http://iiif.io/api/image/2/level1.json"</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"formats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"jpg"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"qualities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"native"</span><span class="p">,</span><span class="w"> </span><span class="s2">"color"</span><span class="p">,</span><span class="w"> </span><span class="s2">"gray"</span><span class="p">,</span><span class="w"> </span><span class="s2">"bitonal"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"supports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"regionByPct"</span><span class="p">,</span><span class="w"> </span><span class="s2">"regionSquare"</span><span class="p">,</span><span class="w"> </span><span class="s2">"sizeByForcedWh"</span><span class="p">,</span><span class="w"> </span><span class="s2">"sizeByWh"</span><span class="p">,</span><span class="w"> </span><span class="s2">"sizeAboveFull"</span><span class="p">,</span><span class="w"> </span><span class="s2">"rotationBy90s"</span><span class="p">,</span><span class="w"> </span><span class="s2">"mirroring"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"maxWidth"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxHeight"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 2. Image information request: meemoo IIIF</div>
<div class="content">
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><a href="https://iiif.meemoo.be/wp9t14vr7s_19140404_0001/info.json">https://iiif.meemoo.be/wp9t14vr7s_19140404_0001/info.json</a></p>
</div>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"@context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://iiif.io/api/image/2/context.json"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://iiif.meemoo.be/wp9t14vr7s_19140404_0001"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://iiif.io/api/image"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">4633</span><span class="p">,</span><span class="w">
  </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">5959</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sizes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">144</span><span class="p">,</span><span class="w">
    </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">186</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">289</span><span class="p">,</span><span class="w">
    </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">372</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">579</span><span class="p">,</span><span class="w">
    </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">744</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">1158</span><span class="p">,</span><span class="w">
    </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1489</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">2316</span><span class="p">,</span><span class="w">
    </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">2979</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nl">"tiles"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w">
    </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w">
    </span><span class="nl">"scaleFactors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">]</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nl">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http://iiif.io/api/image/2/level1.json"</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"formats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"jpg"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"qualities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"native"</span><span class="p">,</span><span class="w"> </span><span class="s2">"color"</span><span class="p">,</span><span class="w"> </span><span class="s2">"gray"</span><span class="p">,</span><span class="w"> </span><span class="s2">"bitonal"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"supports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"regionByPct"</span><span class="p">,</span><span class="w"> </span><span class="s2">"regionSquare"</span><span class="p">,</span><span class="w"> </span><span class="s2">"sizeByForcedWh"</span><span class="p">,</span><span class="w"> </span><span class="s2">"sizeByWh"</span><span class="p">,</span><span class="w"> </span><span class="s2">"sizeAboveFull"</span><span class="p">,</span><span class="w"> </span><span class="s2">"rotationBy90s"</span><span class="p">,</span><span class="w"> </span><span class="s2">"mirroring"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"maxWidth"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxHeight"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nl">"rights"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nieuwsvandegrooteoorlog.hetarchief.be/nl/gebruiksvoorwaarden"</span><span class="w"> <b class="conum">(1)</b>
</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Uit het voorbeeld blijkt dat image langs twee routes via IIIF kan opgevraagd worden. Hoewel beide requests afgehandeld worden door dezelfde image server wijkt de info.json via <a href="http://iif.meemoo.be" class="bare">http://iif.meemoo.be</a> af. Zie <a href="https://github.com/viaacode/iiif-mapping/commit/58da7b0b6a7355a955cd313c5f54f76de654af90">meemoo iiif-mapping op Github</a>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 3. Image request</div>
<div class="content">
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><a href="https://iiif.meemoo.be/wp9t14vr7s_19140404_0001/full/full/0/default.jpg">https://iiif.meemoo.be/wp9t14vr7s_19140404_0001/full/full/0/default.jpg</a></p>
</div>
</div>
</div>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_specificaties">Specificaties</h3>
<div class="sect3">
<h4 id="_functioneel">Functioneel</h4>
<div class="sect4">
<h5 id="_image_server">Image server</h5>
<div class="ulist">
<ul>
<li>
<p>We bieden minstens de Image API 2.1 aan, we voorzien op korte termijn de mogelijkheid om versie 3.0 te ondersteunen</p>
</li>
<li>
<p>We streven een level 2 compliance na, echter indien level 1 voldoende functionaliteit biedt voor VKC kan hiermee worden volstaan (<a href="https://iiif.io/api/image/3.0/compliance">https://iiif.io/api/image/3.0/compliance</a>)</p>
</li>
<li>
<p>De bestanden worden door de image server aangeboden als jpeg en optioneel indien mogelijk in png-formaat</p>
</li>
<li>
<p>Afgeleiden kunnen optioneel in hun geheel gedownload worden, bij voorkeur als TIFF</p>
</li>
<li>
<p>De archiefbestanden (on_tape) worden niet als download beschikbaar gemaakt, maar kunnen aangevraagd worden bij meemoo via de bestaande kanalen</p>
</li>
<li>
<p>Er wordt geen presentation API aangeboden in het kader van dit project</p>
</li>
<li>
<p>Er wordt in het kader van dit project geen authenticatie voorzien</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Features MVP en roadmap</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">_</th>
<th class="tableblock halign-left valign-top">VKC-2 mvp</th>
<th class="tableblock halign-left valign-top">Roadmap meemoo</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Image API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Level compliancy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jpg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jpg, png</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Download full image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ja, als jpg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ja, als afgeleide</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Download archival image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nee</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Presentation API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authentication API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TBD</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_beeldbestanden">Beeldbestanden</h5>
<div class="sect5">
<h6 id="_afgeleiden">Afgeleiden</h6>
<div class="paragraph">
<p>Het gebruiken van archiefmasters is om verschillende redenen praktisch niet haalbaar. De bestanden zijn zeer groot wat de load op de image server en bandbreedte impacteert en het raadplegen onnodig vertraagd, de kwaliteit is ook hoger dan nodig bij het eenvoudig raadplegen op een gewoon beeldscherm. Bovendien bevatten de beelden doorgaans randen en kleurkaarten die enkel relevant zijn in een archivistische context of voor hergebruik. Standaard worden daarom afgeleide bestanden voor ontsluiting en raadpleging gemaakt.</p>
</div>
<div class="paragraph">
<p>Bij het omzetten van de archiefbestanden naar afgeleide bestanden worden de volgende vuistregels gehanteerd:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>De resolutie (ppi) is maximaal 300 ppi voor werken in het publieke domein, afhankelijk van de originele waarde in het bronbestand. Voor werken die auteursrechtelijk beschermd zijn, worden de op het moment van creatie van het afgeleide beeld geldende hergebruiksvoorwaarden gerespecteerd.</p>
</li>
<li>
<p>De afbeeldingen worden herschaald tot een baseline resolutie (grootte) van 5000 pixels voor de kortste zijde, de maximale boven- en ondergrens is daarbij de originele resolutie, bestanden worden niet "opgeblazen" indien ze kleiner zijn, maar kunnen bij heel grote bestanden wel verkleind worden.</p>
</li>
<li>
<p>De beelden worden bijgesneden zodat randen, kleurkaarten kaders niet meer worden getoond.</p>
</li>
<li>
<p>Bestanden worden aangeboden op en voor het web in sRGB, tegenover AdobeRGB voor de originelen.</p>
</li>
<li>
<p>Embedded metadata(XMP, Exif, ICC) worden in zoverre in de bron beschikbaar en mogelijk, in de afbeeldingen opgeslaan.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>De te ontsluiten collectie is zowel qua type als qua fysieke afmeting zeer divers, voor de hele VKC-collectie spreken we over heel kleine objecten van een paar centimeter tot wandtapijten, of een wandkaart van ettelijke meters hoog en breed. De afmeting in pixels van het digitale beeld is niet per se in verhouding en is afhankelijk van de leeftijd, de fotograaf, het opnametoestel, etc. Voor sommige grote werken zijn verschillende foto&#8217;s aan elkaar geplakt (stitching). Andere zijn gevat in 1 foto. Relatief gesproken kan een groter fysiek werk in aantal pixels kleiner of gelijk zijn aan een fysiek kleiner werk.</p>
</div>
<div class="paragraph">
<p>Om te vermijden dat (heel) grote werken te fel herschaald worden ten opzichte van kleine werken met een in verhouding hoger aantal pixels, zal binnen dit project bekeken worden in welke mate een relatie bestaat tussen de fysieke en digitale afmetingen op basis waarvan herschaling dynamisch kan gebeuren. We onderzoeken dit aan de hand vaan een aantal typewerken zoals <em>Pierrot et Squelette en Jaune</em> van James Ensor.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
Bij het herschalen moet onderscheid worden gemaakt tussen werken in public domain en werken die nog onder het auteursrecht vallen. In de overeenkomst die de VKC momenteel met de auteursrechtenorganisatie Sabam heeft, worden volgende hergebruiksvoorwaarden vooropgesteld voor werken die onder het auteursrecht vallen: de resolutie van het gereproduceerde beeld mag niet meer dan 640x480 pixels zijn en een resolutie van maximum 72dpi hebben.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Voor de creatie van de afgeleiden starten we met een manuele workflow die eenvoudig kan bijgesteld worden om uiteindelijk te komen tot een automatiseerbare workflow.
Om zowel de workflow voor de creatie van afgeleide beelden als de specificaties an sich te testen beperken we ons in eerste instantie tot de omzetting van de originele testset aan beelden die nu reeds beschikbaar zijn in de IIIF-viewer in de VKC Arthub. Hierbij zal worden onderzocht welke een haalbare workflow is voor de aanmaak van de afgeleide beeldbestanden en in welke mate dit proces geautomatiseerd kan worden. Indien nodig kunnen bovenstaande specificaties dan ook bijgewerkt worden op basis van voortschrijdend inzicht.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="https://cawemo.com/share/d893035f-bdbc-419b-9524-e9ff161992d7"><img src="../images/iiif-jp2-derived-image-workflow.svg" alt="workflow voor creatie afgeleiden als jp2"></a>
</div>
<div class="title">Figure 2. Voorbeeld manuele workflow voor creatie van jp2 afgeleide beeldbestanden</div>
</div>
</div>
<div class="sect5">
<h6 id="_bestandsformaat">Bestandsformaat</h6>
<div class="paragraph">
<p>De twee meest gebruikte bestandsformaten voor het aanbieden van kwalitatieve hoogresolutiebestanden via een image server zijn piramidale tiff&#8217;s (pTIFF) en JPEG2000 (jp2) bestanden. Beide bestandsformaten zijn uitermate geschikt voor grote, hoogkwalitatieve bestanden met verschillende resoluties en grote kleurdieptes, kunnen metadata bevatten, bieden ruime compressiemogelijkheden (lossless en lossy) en ondersteuning voor meerdere colorspaces. De formaten worden als volgt omschreven:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><strong>JPEG 2000</strong> is an image coding system that uses state-of-the-art compression techniques based on wavelet technology and offers an extremely high level of scalability and accessibility. Content can be coded once at any quality, up to lossless, but accessed and decoded at a potentially very large number of other qualities and resolutions and/or by region of interest, with no significant penalty in coding efficiency.&#8201;&#8212;&#8201;<a href="https://jpeg.org/jpeg2000">jpeg.org</a></p>
</div>
</blockquote>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><strong>TIFF</strong> is a tag-based file format for storing and interchanging raster images. It serves as a wrapper for different bitstream encodings for bit-mapped (raster) images. The different encodings may represent different compression schemes and different schemes for color representation (photometric interpretation).&#8201;&#8212;&#8201;<a href="https://www.loc.gov/preservation/digital/formats/fdd/fdd000022.shtml">Library of Congress</a></p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>De keuze voor een bestandsformaat voor ontsluiting hangt af van verschillende factoren:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Encodering</strong>: bronbestanden converteren naar jp2 is doorgaans eenvoudiger (1 stap) en sneller (resources), mits gebruik van een goede encoder zoals kdu_compress (Kakadu). De creatie van piramidale tiffs is door de band trager. Voor een eenmalige conversie van een in aantal beperkte collectie is de impact beperkt. Wanneer regelmatig grotere batches moeten worden omgezet is de keuze voor jp2 evidenter.</p>
</li>
<li>
<p><strong>Decodering</strong>: jp2-bestanden moeten in tegenstelling tot tiffs on-the-fly gedecodeerd worden door de image server. Dit zorgt voor een kleine overhead bij het aanbieden van jp2-bestanden die echter beperkt kan worden gehouden door de performante Kakadu library te gebruiken. Anderzijds biedt jp2 de mogelijkheid tot progressive transmission waarbij eerst een lagere resolutie wordt getoond tot de hogere resoluties ingeladen zijn.</p>
</li>
<li>
<p><strong>Compressie en bestandsgrootte</strong>: afhankelijk van de complexiteit en resolutie van een beeldbestand enerzijds en anderzijds de gekozen compressie-methode kunnen zowel ptiffs als jp2&#8217;s kleiner zijn dan de andere. Zie voorbeeld Getty. Wanneer kwaliteit(sverlies) een belangrijk aandachtpunt is dan biedt jp2 het voordeel van een lossless compressie met een visueel gelijkwaardige kwaliteit van een uncompressed TIFF voor eeen bestand van kleinere omvang. Het verschil in grootte zonder merkbaar kwaliteitsverlies van jp2 tegenover tiff is vooral uitgesproken bij compressie van grotere bestanden met hogere resoluties. Voor een vergelijking van bestandsgroottes na omzetting zie Appendix A.</p>
</li>
<li>
<p><strong>Resolutie</strong>: jp2 wordt opgeslagen in de hoogste resolutie maar kan door de gebruikte wavelettechnologie op verschillende (lagere) resoluties gedecodeerd worden. Tiff moet worden opgeslagen met de gewenste resolutielagen, de weergave is beperkt tot deze resoluties.</p>
</li>
</ul>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>Gelet op bovenstaande vergelijking, in combinatie met de expertise bij meemoo met de omzetting en het gebruik van jpeg2000, is gekozen om de afgeleide bestanden in een gecomprimeerd jp2-formaat op te slaan voor gebruik in de image server.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_identifiers">Identifiers</h5>
<div class="paragraph">
<p>De URI van een typische <em>image request</em> is <a href="https://example.com/iiif/<code>identifier</code>" class="bare">https://example.com/iiif/<code>identifier</code></a>
Aan de hand van de identifier in de uri weet of kan de image server achterhalen (<em>resolve</em>) welk beeld in de <em>response</em> teruggeven moet worden. Het formaat van de identifier kan vrij gekozen worden (ARK, URN, filename, &#8230;&#8203;) zolang de link met en naar een beeld achterhaalbaar, uniek en persistent is.</p>
</div>
<div class="paragraph">
<p>Doel is om op een eenduidige manier aan de hand van een gekende pid een beeld te kunnen opvragen via de image API van meemoo zonder dat hiervoor nog de tussenstap van een zogenaamde resolver nodig is. Vaak wordt de identifier gebruikt in de bestandsnaam van het beeld dat wordt opgevraagd.</p>
</div>
<div class="paragraph">
<p>In het VKC-project zijn verschillende identifiers gekend voor dezelfde werken, afhankelijk van het systeem waar de collectie en de metadata van de beelden beheerd worden, van historische inventarisnummers tot persistente digitaal-archiefnummers.</p>
</div>
<div class="paragraph">
<p>In het archiefsysteem van meemoo is elk werk een intellectuele entiteit (IE). Een IE heeft een unieke <em>persistent identifier</em> (pid), die onveranderlijk is doorheen de hele keten van registratie, digitalisering, archivering tot ontsluiting, we gebruiken hiervoor <a href="https://n2t.net/e/noid.html">noid</a> in eigen formaat, vb. <code>wp9t14vr7s</code>. Catalogusnummers en overige lokale identifiers van de collectiebeheerders worden, indien gekend en gewenst, bewaard in de metadata van de IE. Ze worden echter beschouwd als niet-autoratieve metadata.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
In het geval van enkelvoudige objecten is de relatie tussen de IE en het gearchiveerde media-object 1-op-1. De pid kan herleid worden naar 1 mediabestand. Meervoudige objecten hebben echter meerdere objecten die samen een IE vormen. Zoals kranten waarbij elke pagina een afzonderlijk bestand is. Elk media-object dat deel uitmaakt van eenzelfde IE heeft daarom naast de pid een unieke external_id die bestaat uit de pid van het IE met een suffix gescheiden door een <em>underscore</em>, bijvoorbeeld: <code>wp9t14vr7s_19140404_0001</code>, pagina 1 van krant <code>wp9t14vr7s</code>. Voor enkelvoudige objecten is de external_id gelijk aan de pid.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>De external_id uit het meemoo-archiefsysteem biedt een hoge mate van zekerheid op vlak van uniciteit en persistentie met voldoende granulariteit, namelijk tot op digitaal object. Om zonder omweg de identifier te kunnen gebruiken in de image endpoint zal deze toegepast worden in de naamgeving van de afgeleide beeldbestanden:{identifier}.{ext}, bijvoorbeeld: <code>wp9t14vr7s_19140404_0001.jp2</code>.</p>
</div>
<div class="paragraph">
<p>De meemoo-identifiers moeten uiteraard bekend zijn in de datahub van VKC, zonder de nood aan bijkomende resolvers en mappings. Met andere woorden zal VKC de meemoo-identifier in de metadata van bijvoorbeeld <a href="https://arthub.vlaamsekunstcollectie.be/nl/catalog/kmska:5006">kmska:494</a> moeten bijhouden om de image en information requests te kunnen doen. In het kader van dit project levert meemoo hiervoor de nodige data met de metadata-export waarbij wordt onderzocht of en hoe die structureel kan worden uitgewisseld via de API&#8217;s.</p>
</div>
<div class="paragraph">
<p>Vertaald naar een image information request:</p>
</div>
<div class="paragraph">
<p><a href="https://iiif.meemoo.be/wp9t14vr7s_19140404_0001/info.json" class="bare">https://iiif.meemoo.be/wp9t14vr7s_19140404_0001/info.json</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_info_json">info.json</h5>
<div class="paragraph">
<p>Via de info.json biedt de image server informatie over het beeld, voornamelijk technische gegevens maar ook informatie over rechten of services kunnen hierin worden opgenomen.</p>
</div>
<div class="paragraph">
<p>De structuur van een request is: {scheme}://{server}\{/prefix}/{identifier}/info.json, de response is een JSON-LD. Om vlot te werken moet CORS (Cross Origin Resource Sharing) toegestaan zijn en moeten de correcte Accept of Content-type headers gebruikt worden in respectievelijk de request of de response.</p>
</div>
<div class="paragraph">
<p>In onderstaande tabel wordt de gewenste opbouw van de info.json weergegeven. Dit zou moeten volstaan binnen de scope van dit project en verder. Let wel, <a href="https://iiif.io/api/image/2.1/%23image-information">https://iiif.io/api/image/3.0/#5-image-information</a></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. info.json properties en hun omschrijving: overgenomen van iiif.io</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Compliance</th>
<th class="tableblock halign-left valign-top">Omschrijving</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@context</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The context document that describes the semantics of the terms used in the document. This must be the URI: <a href="http://iiif.io/api/image/2/context.jsonfor" class="bare">http://iiif.io/api/image/2/context.jsonfor</a> version 2.1 of the IIIF Image API. This document allows the response to be interpreted as RDF, using the <a href="http://www.json-ld.org/">JSON-LD</a>serialization.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The base URI of the image as defined in <a href="https://iiif.io/api/image/2.1/%23uri-syntax">URI Syntax</a>, including scheme, server, prefix and identifier without a trailing slash.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>protocol</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URI <a href="http://iiif.io/api/imagewhich" class="bare">http://iiif.io/api/imagewhich</a> can be used to determine that the document describes an image service which is a version of the IIIF Image API.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>width</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The width in pixels of the full image content, given as an integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>height</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The height in pixels of the full image content, given as an integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sizes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A set of height and width pairs the client should use in the sizeparameter to request complete images at different sizes that the server has available. This may be used to let a client know the sizes that are available when the server does not support requests for arbitrary sizes, or simply as a hint that requesting an image of this size may result in a faster response. A request constructed with the w,hsyntax using these sizes <em>must</em> be supported by the server, even if arbitrary width and height are not.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tiles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A set of descriptions of the parameters to use to request regions of the image (tiles) that are efficient for the server to deliver. Each description gives a width, optionally a height for non-square tiles, and a set of scale factors at which tiles of those dimensions are available.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>profile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A list of profiles, indicated by either a URI or an object describing the features supported. The first entry in the list <em>must</em> be a <a href="https://iiif.io/api/image/2.1/%23compliance-levels">https://iiif.io/api/image/2.1/#profile-description</a>voor de properties.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>attribution</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text that <em>must</em> be shown when content obtained from the Image API service is displayed or used. It might include copyright or ownership statements, or a simple acknowledgement of the providing institution. The value <em>may</em> contain simple HTML as described in the <a href="https://iiif.io/api/presentation/3.0/%23html-markup-in-property-values">HTML Markup in Property Values</a>section of the Presentation API.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>license</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A link to an external resource that describes the license or rights statement under which content obtained from the Image API service may be used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>logo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A small image that represents an individual or organization associated with the content. Logo images <em>must</em> be clearly rendered when content obtained from the Image API service is displayed or used. Clients <em>must not</em> crop, rotate, or otherwise distort the image.</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Voorbeeld info.json</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"@context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://iiif.io/api/image/2/context.json"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"@id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.example.org/image-service/abcd1234/1E34750D-38DB-4825-A38A-B60A345E591C"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://iiif.io/api/image"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">6000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sizes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
    </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
    </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nl">"tiles"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
    </span><span class="nl">"scaleFactors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">]</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nl">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http://iiif.io/api/image/2/level2.json"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"attribution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Provided by Example Organization"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.org/images/logo.png"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"license"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://rightsstatements.org/vocab/InC-EDU/1.0/"</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_authenticatie_en_authorisatie">Authenticatie en authorisatie</h5>
<div class="paragraph">
<p>Authenticatie en authorisatie zijn niet binnen scope van dit project. meemoo behoudt weliswaar de mogelijkheid om in een later stadium authenticatie te voorzien al dan niet op basis van de IIIF Authentication API in combinatie met de eigen accesstoken-authenticatie services. In dat geval zal de afnemer (i.c. VKC) voldoende documentatie krijgen om de authenticatie te integreren. Hiervoor dient eerst een grondige analyse te worden uitgevoerd.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_technisch">Technisch</h4>
<div class="sect4">
<h5 id="_standaardisatie">Standaardisatie</h5>
<div class="paragraph">
<p>meemoo standardiseert in de mate van het mogelijke haar services op het vlak van programmeertalen, software, RTE, tools voor deployment, gebruik van (open) standaarden, etc. Om tot een onderhoudbare oplossing te komen wordt hierbij best zo nauw mogelijk aangesloten.</p>
</div>
<div class="paragraph">
<p>Ter informatie sommen we de typische toepassingen en software bij meemoo op:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Programmeertaal: Python (in mindere mate Ruby)</p>
</li>
<li>
<p>Database: PostgreSQL</p>
</li>
<li>
<p>Webserver en proxy: nginx+</p>
</li>
<li>
<p>Authenticatie en authorisatie: eigen IdP met authenticatie op basis van SAML2.0 en<br>
OAuth met LDAP als directory</p>
</li>
<li>
<p>Runtime environment: containers op Openshift (Cloud) of VMWare (on premise)</p>
</li>
<li>
<p>Deployment: CI/CD met Jenkins (pipelines), Puppet met Foreman (indien VM)</p>
</li>
<li>
<p>Versioning: Git (Github)</p>
</li>
<li>
<p>Logging: stdout naar Elasticsearch/Kibana</p>
</li>
<li>
<p>Queue: RabbitMQ</p>
</li>
<li>
<p>Reporting: Data Warehouse + Tableau of PowerBI</p>
</li>
<li>
<p>Storage: Object Store (S3) of persistent local storage (VM)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Daarnaast streeft meemoo naar het maximaal inpassen van nieuwe ontwikkelingen in haar eigen eco-systeem. Voor de platformen gericht op ontsluiting en interactie is een architectuur uitgewerkt die herhaalbaar en breed inzetbaar is: de zogenaamde Shared Components. Een voorbeeld van een applicatie die volledig met de componenten is gebouwd is <a href="https://onderwijs.hetarchief.be/">Het Archief voor Onderwijs</a>.</p>
</div>
<div class="paragraph">
<p>Het systeem omvat een volledige en modulaire middleware op vlak van ETL, opslag, zoekindex, metadata-API, authenticatie en media delivery, waaruit op basis van de nood componenten kunnen worden ingezet voor de bouw van een toepassing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://meemoo.atlassian.net/wiki/spaces/SF/pages/1172930633/Syncrator">Syncrator</a>: taakgebaseerde ETL-service die de synchronisatie van metadata uit het MAM (de bron) naar de lokale datastore (het doel) verzorgt</p>
</li>
<li>
<p>(Meta)datastore: een postgresql database die onder meer de metadata van de te ontsluiten archiefitems bevat en ook applicatiespecifieke tabellen kan bevatten</p>
</li>
<li>
<p><a href="https://gitlab.com/shared-components/indexer">Indexer</a>: een ETL service die de synchronisatie tussen database en index regelt op basis van database triggers en webhooks</p>
</li>
<li>
<p>ElasticSearch als standaard index die de zoekfunctionaliteit in de platformen mogelijk maakt</p>
</li>
<li>
<p><a href="https://meemoo.atlassian.net/wiki/spaces/SF/pages/1373274138">Hasura GraphQL</a> voor naadloos gebruik bovenop een postgresql database. Dit vormt de basis-API waarmee de frontendapplicaties met de datastore kunnen connecteren.</p>
</li>
<li>
<p><a href="https://meemoo.atlassian.net/wiki/spaces/SF/pages/1546977330">IDM</a>: een volledige Identity en Access Management stack:</p>
<div class="ulist">
<ul>
<li>
<p>een LDAP directory</p>
</li>
<li>
<p>een SAML identity provider</p>
</li>
<li>
<p>een self-service user management applicatie</p>
</li>
<li>
<p>een account manager voor beheerders</p>
</li>
</ul>
</div>
</li>
<li>
<p>Event logger</p>
</li>
<li>
<p>Media services zoals play ticketing en streaming</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_meemoo_infrastructuur">meemoo-infrastructuur</h4>
<div class="sect4">
<h5 id="_hosting_en_deployment">Hosting en deployment</h5>
<div class="paragraph">
<p>De image server kan gehost worden bij meemoo op 2 manieren</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Virtualisatie in een VM in het eigen datacenter in Oostkamp (DCO)</p>
</li>
<li>
<p>Virtualisatie in containers op Openshift in IBM Cloud</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Gelet op onderstaande punten wordt gekozen voor de eerste oplossing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Netwerkverkeer en bandbreedte zijn goedkoper in DCO dan in de Cloud</p>
</li>
<li>
<p>Storage is eveneens goedkoper en makkelijk uitbreidbaar in DCO (zie <em>Opslag</em>)</p>
</li>
<li>
<p>Het netwerkverkeer verloopt via onze eigen nginx proxy met flexibiliteit onder meer op vlak van URL rewrites en image cache</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Voor de deployment en management van de software rekenen we op de combinatie Puppet en Foreman. De codebase wordt bewaard en geversioneerd in een Git repository van meemoo.</p>
</div>
</div>
<div class="sect4">
<h5 id="_opslag">Opslag</h5>
<div class="paragraph">
<p>File storage voldoet bij voorkeur aan de volgende vereisten:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>low-latency</p>
</li>
<li>
<p>high-availability</p>
</li>
<li>
<p>low-cost</p>
</li>
<li>
<p>scaleable</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>De twee door meemoo gebruikte oplossingen zijn een eigen Swarm Object Store met S3-connector waarop onder meer de on_disk archiefbestanden en browse copies van het MAM worden bewaard of local disk storage in het datacenter. Beide oplossingen voldoen aan bovenstaande vereisten. Echter, image servers hebben bij voorkeur de bestanden dichtbij en hoewel er S3-oplossingen voor verschillende image servers bestaan zal dit toch trager zijn dan lokale I/O door de overhead van het netwerkverkeer (GET). Aangezien de image server toch in het datacenter wordt gehost en de afgeleide bestanden louter en alleen voor de image server bestaan is het logischer deze te hosten in ons eigen datacenter.</p>
</div>
<div class="paragraph">
<p>Om een inschatting te kunnen maken van de nodige opslag is op een aantal testbestanden een conversie uitgevoerd. Voor de creatie van de jp2 bestanden is kdu_compress van Kakadu gebruikt volgens een profiel van het Bodlean.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>kdu_compress <span class="nt">-i</span> input.tif <span class="nt">-o</span> output.jp2
  <span class="nv">Clevels</span><span class="o">=</span>6 <span class="nv">Clayers</span><span class="o">=</span>6 <span class="se">\</span>
  <span class="s2">"Cprecincts={256,256},{256,256},{128,128}"</span> <span class="se">\</span>
  <span class="s2">"Stiles={512,512}"</span> <span class="se">\</span>
  <span class="nv">Corder</span><span class="o">=</span>RPCL <span class="se">\</span>
  <span class="nv">ORGgen_plt</span><span class="o">=</span><span class="nb">yes</span> <span class="se">\</span>
  <span class="nv">ORGtparts</span><span class="o">=</span>R <span class="se">\</span>
  <span class="s2">"Cblk={64,64}"</span> <span class="se">\</span>
  <span class="nt">-jp2_space</span> <span class="s2">"sRGB"</span> <span class="se">\</span>
  <span class="nv">Cuse_sop</span><span class="o">=</span><span class="nb">yes</span> <span class="se">\</span>
  <span class="nv">Cuse_eph</span><span class="o">=</span><span class="nb">yes</span> <span class="se">\</span>
  <span class="nt">-flush_period</span> 1024 <span class="se">\</span>
  <span class="nv">Creversible</span><span class="o">=</span><span class="nb">yes</span>|no <span class="se">\</span>
  <span class="nt">-rate</span> -|3</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Creversible: of de compressie omkeerbaar is (lossless) of niet (lossy)</p>
</li>
<li>
<p>rate: de mate van compressie. een integer of enkel dash (geen)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Hieruit blijkt een reductie van de bestandsgrootte van:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>full, lossless &#8658; -43%</p>
</li>
<li>
<p>bijgeknipt en resized, lossless &#8658; -84%</p>
</li>
<li>
<p>bijgeknipt en geresized, lossy &#8658; -98%</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Voor het berekenen van de onder- en bovengrens voor benodigde schijfruimte vertrekken we van de totale omvang van de VKC tenant in het meemoo MAM: 32502 tiffs van gemiddeld 250 MB per tiffs = 8.125TB</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Schatting minimaal benodigde opslagruimte, afhankelijk van formaat</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">formaat</th>
<th class="tableblock halign-left valign-top">reductie</th>
<th class="tableblock halign-left valign-top">nodige schijfruimte</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lossless jp2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(8.125/100 )*16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3 TB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lossy jp2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(8.125/100)*2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">162.5 GB</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Ter vergelijking, de ca. 300.000 pagina&#8217;s op NVDGO zijn samen 2.4TB, gemiddeld 8MB per afbeelding.</p>
</div>
</div>
<div class="sect4">
<h5 id="_monitoring_en_logging">Monitoring en logging</h5>
<div class="paragraph">
<p>Applicaties bij meemoo worden gemonitored. Hieronder verstaan we enerzijds het monitoren van de toestand van de applicatie en anderzijds wat er in die toestand gebeurt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>monitoring: draait mijn applicatie, is ze gezond, zijn er issues</p>
</li>
<li>
<p>logging: wat doet mijn applicatie, welke acties worden uitgevoerd</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>De Image endpoint is geen uitzondering. In praktijk houdt dit in dat we de gebruikte resources, de health en uptime en eventuele errors in de gaten houden via PRTG (sensors).</p>
</div>
<div class="paragraph">
<p>Typische voorbeelden van sensoren zijn:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CPU, RAM en Disk usage</p>
</li>
<li>
<p>Connectiviteit (intern en extern)</p>
</li>
<li>
<p>HTTP health &amp; liveness checks</p>
</li>
<li>
<p>Certificaatgeldigheid (indien van toepassing)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>De developer guidelines van meemoo worden hierbij gehanteerd. Deze kunnen opgevraagd worden of geraadpleegd op: <a href="https://meemoo.atlassian.net/wiki/spaces/SF/pages/1177387132/Dev%2Bguidelines%2Blogging">logging guidelines voor developers</a>.</p>
</div>
<div class="paragraph">
<p>De toepassing logt via stdout naar een ELK-stack (Elasticsearch-Logstash-Kibana). Kort samengevat moeten de log messages voldoen aan de volgende voorwaarden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Single-line JSON*</p>
</li>
<li>
<p>Standaard gestructureerd formaat en labels</p>
</li>
<li>
<p>Logs worden weggeschreven naar stdout/err</p>
</li>
<li>
<p>De x-correlation-id van de request wordt gebruikt als trace of span-id</p>
</li>
<li>
<p>Healthz en andere monitoring checks worden niet gelogd</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Optioneel biedt meemoo de mogelijkheid voor het loggen van user events, de zogenaamde event-logger. Aangezien de endpoint voornamelijk bevraagd zal worden door andere services (machines) wordt deze vorm van loggen gezien als buiten scope van dit project en louter vermeld ter informatie.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_performantie">Performantie</h4>
<div class="paragraph">
<p>De proefopstelling zal dienen om de baseline performantie te meten en eventuele verbeteringen door te voeren of een voorstel te doen, vb. voor een redundante HA setup, proxy cache, etc. Dit kan op basis van de gegevens uit monitoring en debug logging, maar we voorzien ook de optie van geautomatiseerde load en stress testing. De aandacht richt zich hierbij op:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Throughput (bandbreedte)</p>
</li>
<li>
<p>nRequests/sec</p>
</li>
<li>
<p>Response Time</p>
</li>
<li>
<p>Up Time</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_documentatie">Documentatie</h4>
<div class="paragraph">
<p>Alle applicaties bij meemoo worden beschreven en gedocumenteerd op de Confluence wiki van meemoo in de <em>Software Factory.</em> Daarnaast bevat elke code repository een README. Handleidingen en technische documentatie worden afhankelijk van de nodige toegang bewaard op de wiki of indien nuttig ontsloten via <a href="https://developer.meemoo.be/">developer.meemoo.be</a> of het partnerportaal van meemoo.</p>
</div>
<div class="paragraph">
<p>Worden minstens gedocumenteerd:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>technische details omgeving (uri&#8217;s, auth, software, dependencies, repo, etc.)</p>
</li>
<li>
<p>verantwoordelijke en medewerkers</p>
</li>
<li>
<p>installatieprocedure</p>
</li>
<li>
<p>links naar externe documentatie</p>
</li>
<li>
<p>API calls en responses</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="_architectuur">Architectuur</h3>
<div class="sect3">
<h4 id="_diagram_eenvoudig">Diagram (eenvoudig)</h4>
<div class="imageblock">
<div class="content">
<img src="../images/iiif-basic-architecture.png" alt="Simple architecture diagram">
</div>
<div class="title">Figure 3. Eenvoudige voorstelling van IIIF-architectuur (to be) bij meemoo</div>
</div>
</div>
<div class="sect3">
<h4 id="_componenten">Componenten</h4>
<div class="paragraph">
<p>Er zijn drie specifieke softwarecomponenten, maar alleen 1 is in scope van dit project:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Image API: de IIIF compliant image server die beelden levert aan een image viewer</p>
</li>
<li>
<p><em>Download API: een custom applicatie die een hoogresolutiebestand levert in een bepaald formaat</em></p>
</li>
<li>
<p><em>Presentation API: een custom applicatie die IIIF compliant manifests levert</em></p>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="_http_proxy">HTTP Proxy</h5>
<div class="paragraph">
<p>Requests verstuurd naar <a href="https://images.meemoo.be/">https://images.meemoo.be</a> worden opgevangen op de nginx proxy-server van meemoo. De proxy routeert het verkeer op basis van het path naar de gewenste onderliggende applicatie of onderliggende functie en geeft de respectievelijke responses terug aan de "requester". Indien nodig worden tijdens dit proces URL&#8217;s vertaald en herschreven en headers toegevoegd.</p>
</div>
<div class="paragraph">
<p>Daarnaast fungeert de proxy ook als <a href="https://docs.nginx.com/nginx/admin-guide/content-cache/content-caching/%23processes">content cache</a> voor de image server. Dit gebeurt bijvoorbeeld voor de jpeg-afbeeldingen die door image server van NVDGO worden aangemaakt. De disk cache van de proxy is een aanvulling op de memcached cache van de image server.</p>
</div>
</div>
<div class="sect4">
<h5 id="_image_api">Image API</h5>
<div class="paragraph">
<p>IIIF beschrijft een set aan verplichte en optionele voorwaarden en aanbevelingen waaraan een API moet voldoen. Bijvoorbeeld op vlak van de request URI&#8217;s, response formats en metadata. Het voornaamste en quasi enige doel van de image server is het aanleveren van afbeeldingen voor (her)gebruik in een image viewer of andere toepassingen, op basis van de parameters in de zogenaamde image request request.</p>
</div>
<div class="exampleblock">
<div class="title">Example 4. Image request</div>
<div class="content">
<div class="paragraph">
<p><code>https://images.meemoo.be/iiif/&lt;identifier:external_id&gt;.&lt;ext&gt;/{region}/{size}/{rotation}/{quality}.{format}</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Daarnaast moet de API ook kunnen antwoorden op een image information request. De response moet een json (of JSON-LD in versie 3.0)bestand teruggeven: info.json. Naast een set aan verplichte en optionele technische informatie kan dit bestand ook metadata bevatten over rechten en licenties en aan het beeldbestand gerelateerde services zoals authenticatie. Zie het hoofdstuk over info.json.</p>
</div>
<div class="exampleblock">
<div class="title">Example 5. Image information request</div>
<div class="content">
<div class="paragraph">
<p><code>https://images.meemoo.be/iiif/\{identifier:external_id}/\{info.json}</code></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Hoewel de API strikt omschreven is kunnen IIIF-compliant Image servers sterk verschillen op het vlak van gemak van installatie en configuratie, snelheid en features, roadmap en ondersteuning en de gebruikte programmeertaal (Ruby, Python, PHP, Java, C++, &#8230;&#8203;). Zie <a href="https://github.com/IIIF/awesome-iiif%23image-servers">IIIF/awesome-iiif</a> voor een uitgebreide lijst van "mature" IIIF-compliant image servers.</p>
</div>
<div class="paragraph">
<p>Voor dit document is geen technische benchmark verricht op basis van geïnstalleerde image servers. Een recente vergelijking en benchmark van image servers werd uitgevoerd door Getty en gerapporteerd in <a href="https://drive.google.com/file/d/1pB2eqlSlC4Ua5ZrEEEdJTbofl0wdDApg/view?usp%3Dsharing">Getty Common Image Service Research &amp; Design Report (2018)</a>. IIPImage komt hier zowel voor tiff als voor jp2 (indien met Kakadu als decoder) als betrouwbaar en consistent performant naar boven.</p>
</div>
<div class="paragraph">
<p>Typische pluspunten die naar voren worden geschoven zijn:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bewezen technologie. IIPImage wordt breed ingezet in productieomgevingen tot zeer grote omvang en bij grote spelers</p>
</li>
<li>
<p>Jpeg2000 (jp2) ondersteuning met zowel Kakadu als de verbeterde OpenJpeg</p>
</li>
<li>
<p>Stabiele prestaties en betrouwbare performantie ook met grote datasets van hogere kwaliteit (C++)</p>
</li>
<li>
<p>Eenvoudige installatie(vereisten): PHP+webserver met fastcgi zoals nginx, Apache</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Spreken ook in het voordeel:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Configureerbaar via variabelen</p>
</li>
<li>
<p>Matuur en nog steeds actief ontwikkeld en ondersteund</p>
</li>
<li>
<p>Online beschikbaarheid van documentatie, gebruikersforum, code</p>
</li>
<li>
<p>Ondersteuning voor Image API 2.1 <a href="https://github.com/ruven/iipsrv/issues/177">en sinds kort ook 3.0</a>:</p>
</li>
</ul>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>IIPImage is now fully version 3 compliant. This commit 1d6c0d5 adds a new server directive IIIF_VERSION which allows you to set the IIIF Image API version (2 or 3). Essentially this affects the info.json output.</p>
</div>
</blockquote>
</div>
<div class="ulist">
<ul>
<li>
<p>level 2 compliancy door toevoeging van png als output format</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Er zijn echter ook minpunten:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Embedded metadata in tiles is enkel voor tiff</p>
</li>
<li>
<p>Ondersteuning voor de Image API versie 3.0 is nog maar zeer recent</p>
</li>
<li>
<p>1 hoofd-maintainer (maar wel actieve community)</p>
</li>
<li>
<p>Soms veel tijd tussen releases (maar die zijn dan wel stabiel)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Aangezien meemoo reeds ervaring heeft met de installatie en opzet van een IIPImage server, inclusief Kakadu, en deze al een paar jaar stabiel in productie draait en gelet op de maturiteit en boven beschreven voordelen zal verder worden gebouwd op deze expertise.</p>
</div>
<div class="paragraph">
<p>De standaardvereisten voor de installatie van de IIPImage software (ipsrv) zijn:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OS: Debian</p>
</li>
<li>
<p>Installatie: autoconf of via apt-get (Debian 7+)</p>
</li>
<li>
<p>Webserver: Apache+fcgi module (mod_fastcgi) + Nginx proxy (rewrites etc.)</p>
</li>
<li>
<p>Libraries: libtiff, zlib, kakadu</p>
</li>
<li>
<p>Configuratie: startup variables, httpd.conf, clean URL&#8217;s en logging (syslog)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Voor meer opties en configuratiemogelijkheden zie: <a href="https://iipimage.sourceforge.io/documentation/server/">https://iipimage.sourceforge.io/documentation/server/</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_download_api">Download API</h5>
<div class="paragraph">
<p>IIPImage voorziet als default enkel de "download" van het volledige bestand in jpeg- of png-formaat. Het is niet mogelijk het jp2-bestand of een rasterformaat zoals tiff te downloaden via de IIIF endpoint. Indien er voldoende vraag is naar beelden in de verschillende bestandsformaten en of andere transformatie te downloaden kan dit worden opgevangen met een kleine webapplicatie die op basis van de identifier een afgeleide in een bepaald formaat als download aanbiedt.</p>
</div>
<div class="paragraph">
<p>Tenzij dit wordt gezien als een ernstige regressie van de huidige setup van VKC, behoort deze API niet tot de scope van het project, maar dit kan op termijn wel deel uitmaken van de meemoo-setup.</p>
</div>
<div class="exampleblock">
<div class="title">Example 6. Mogelijke download request</div>
<div class="content">
<div class="paragraph">
<p><code>https://images.hetarchief.be/download/\{identifier:external-id}.{format:jpg|jp2|tiff|png]}</code></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_presentation_api">Presentation API</h5>
<div class="paragraph">
<p>De presentation API is niet in scope van dit project aangezien de bestaande API binnen het VKC-ecosysteem zal worden gebruikt. Op termijn wil meemoo wel een presentation API (3.0) voorzien, gebruik makend van de eigen shared components (meemoo-ecoysteem) voor ETL, metadata storage en API endpoint.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_impact">Impact</h3>
<div class="paragraph">
<p>Voor de realisatie van de in dit document beschreven opstelling wordt een impact verwacht op:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Infrastructuur</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>aanmaken en configureren van VM&#8217;s</p>
</li>
<li>
<p>allocatie van storage</p>
</li>
<li>
<p>voorzien en configureren netwerkconnectiviteit</p>
</li>
<li>
<p>DNS-configuratie</p>
</li>
<li>
<p>nginx-configuratie</p>
</li>
<li>
<p>monitoring en maintenance</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Devops</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>installatie en configuratie van de IIPImage software</p>
</li>
<li>
<p>deployment configuratie: Openshift en Jenkins</p>
</li>
<li>
<p>ontwikkeling custom componenten en scripts</p>
</li>
<li>
<p>automatisering workflow afgeleide beeldbestanden</p>
</li>
<li>
<p>monitoring en maintenance</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Business</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>workflow aanmaak en controle afgeleide beeldbestanden (bewerking, bijsnijden en verkleinen) ism devops</p>
</li>
<li>
<p>QA en testen van de opstelling</p>
</li>
<li>
<p>metadatabeheer</p>
</li>
<li>
<p>opvolging</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_conclusie">Conclusie</h3>
<div class="paragraph">
<p>meemoo voorziet in het kader van het IIIF-project fase 2 van VKC een IIIF Image API. De API zal in eerste instantie een aanbod van De Schone Kunsten Musea ontsluiten voor gebruik door VKC. VKC voorziet in de presentation API. Op termijn zal de endpoint breder ingezet worden met een groter aanbod en zowel voor gebruik door derden als voor eigen gebruik van meemoo.</p>
</div>
<div class="paragraph">
<p>De endpoint zal bestaan uit een IIPImage image server met lokale opslag en bereikbaar via een nginx proxy-server op images.meemoo.be. De implementatie gebeurt volledig op de infrastructuur van en door meemoo.</p>
</div>
<div class="paragraph">
<p>Als ontsluitingsformaat wordt jpeg2000 (jp2) gehanteerd. Er wordt een workflow uitgewerkt waarmee de archiefbestanden vlot kunnen worden omgezet naar dit formaat. De afgeleide bestanden worden op de meemoo-infrastructuur bewaard.</p>
</div>
</div>
</div>
</body>
</html>